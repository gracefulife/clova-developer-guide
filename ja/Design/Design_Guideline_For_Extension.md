# Extensionのデザインガイドライン

新しくExtensionを作成する際、既にある技術やサービスを、どうすればユーザーが心地よく利用できるか考慮して設計する必要があります。このドキュメントは、ユーザーの役に立つサービスを提供するために、Extensionを設計する際に守るべき事項についてのガイドラインを提供します。

Clovaを通じて、Webサービスの情報検索、ショッピングおよび宅配サービス、対話型のゲーム、放送またはリアルタイムのブリーフィング、IoTデバイスの制御、その他の音声を使用した操作やサービスを提供するExtensionを作成することができます。作成するExtensionの方針が決まったら、次は設計をする必要があります。設計する上で、守る必要がある項目を以下に記載します。また、ここで扱っている内容はExtension設計の基本推奨事項であり、簡単な例を挙げながら説明しています。ここに記載している基本を元に、お持ちのビジネス経験やサービスの特性によって、より多くの可能性を持つExtensionを設計・実装することができます。

* [目標を設定する](#SettingGoal)
* [ユーザーシナリオスクリプトを作成する](#MakeUseCaseScenarioScript)
* [対話モデルを定義する](#DefineInteractionModel)
* [注意事項](#Precautions)
* [プラットフォームでサポートされる音声圧縮形式](#SupportedAudioCompressionFormat)
* [随時更新](#ContinuousUpdate)

## 目標を設定する {#SettingGoal}

Extensionの設計は、まず最初にExtensionの目標を設定することから始まります。Extensionの目標設定とは、具体的にユーザーに何をどうやって届けるかを決めることです。そのためには、これからユーザーにどんな機能を提供して、ユーザーがその機能をどんなシナリオで使用するかを計画する必要があります。Extensionの目標として、次のような基本的で抽象的な目標を一例として挙げることにします。

```
ユーザーにピザの宅配サービスを提供する。
```

このようなExtensionの目標は、より詳細で具体的な目標に書き換えることができます。具体的な目標を定義する際、次の項目を参考にしてください。

* 具体的な目標は、ユーザーの目線で作成してください
* 具体的な目標は、ユーザーがどうやってExtensionを呼び出すかを含めて作成してください
* 具体的な目標を達成するための前提と、達成する結果を組み合わせて作成することをお勧めします。前提として、次のようなものがあります。
  - 事前に必要なアクションまたは状態
  - Extensionが必要とする機能やリソース(GPS、カメラ、マイク)
  - 外部サービスまたはプラットフォームの情報(モバイルデバイスの連絡先、SNSアカウントの情報)
* 作成した具体的な目標が、達成しようとしているExtensionの全ての目標をカバーしているか確認してください。
* 1つのアクション単位で、1つの具体的な目標を作成することをお勧めします。

以下は、ピザの宅配サービスを考慮して作成した具体的な目標の例です。

| 目標ID | カテゴリ                | 目標                                                            |
|------------|--------------------|---------------------------------------------------------------|
| #1         | サービスの呼び出し           | ユーザーが「ピザボットを起動して」とClovaに呼びかけると、ピザの宅配サービスを使用できる。    |
| #2         | 利用の提案や推奨     | ピザの宅配サービスが開始されと、ユーザーはピザの注文に必要なアクションの案内を受けられる。 |
| #3         | サービス提供者の確認および選択     | ユーザーはピザのサービス提供者を選択できる。                                 |
| #4         | メニューの確認および選択      | ユーザーはピザのメニューを確認して選択できる。                                   |
| #5         | 注文および支払い          | ユーザーはピザの種類、数量および配達先の住所を入力して、ピザを注文できる。 |
| #6         | 利用の提案や推奨     | ユーザーがピザのサービス提供者を選択すると、最近の注文履歴からピザの種類、配達先および支払い方法が提案される。 |
| #7         | メニューの提案や推奨     | ユーザーが他のメニューをリクエストすると、別のメニューを推奨される。 |
| #8         | 注文および支払い          | ユーザーはカメラを使用してクーポンを利用できる。                    |
| #9         | 配達状況の確認             | 注文が完了すると、ユーザーはピザの準備状況および配達状況を確認できる。  |
| #10        | サービス終了            | ユーザーが希望する作業を完了すると、サービスを終了できる。
| ...        | ...                 | ...                                                            |

<div class="note">
  <p><strong>メモ</strong></p>
  <p>こうして作成された目標は、<a href="#MakeUseCaseScenarioScript">ユーザーシナリオのスクリプトを作成</a>する時や、<a href="#DefineInteractionModel">対話モデル</a>を定義する際に基盤情報となります。また、<a href="/DevConsole/Guides/CEK/Deploy_Extension.md#InputDeploymentInfo">Extensionを配布</a>する際にこの目標を登録する必要があります。登録された情報を元に、Extensionが正しく動作するか<a href="/DevConsole/Guides/CEK/Deploy_Extension.md#RequestExtensionSubmission">審査</a>を受けることになります。</p>
</div>

## ユーザーシナリオスクリプトを作成する {#MakeUseCaseScenarioScript}

ユーザーシナリオのスクリプトは、ユーザーとClovaの対話をあらかじめ想定したものです。具体的な目標に基づき、様々なユーザーシナリオで起こるユーザーとClovaの対話を予測することで、サービスの利便性、対話のフローなどを検討することができます。[目標を設定する](#SettingGoal)で決めた具体的な目標に基づいて、予想されるユーザーシナリオのスクリプトを作成します。これは、後ほど[対話モデル](#DefineInteractionModel)を登録する際にも活用できます。

ユーザーシナリオのスクリプトは、次の事項を考慮して作成することをお勧めします。

* 書き言葉ではなく、話し言葉で作成してください。
* Extensionが情報を提供する際、情報や選択肢を与えすぎないでください。
* Extensionはユーザーに対して次のアクションに関する案内や、サービスの使用を推奨する案内を応答に含める必要があります。
* 繰り返しの表現は避けることをお勧めします。
* 常に想定していないリクエストや状況が発生する可能性があることを念頭に置いて設計してください。

以下は、ユーザーシナリオのスクリプトを作成した例です。
* 連続するユーザーリクエストタイプのシナリオ

| 発話の主体   | サンプル発話                                              | 関連する目標ID  |
|-----------|------------------------------------------------------|-------------|
| ユーザー      | ピザボットを起動して。                                        | #1        |
| Extension | 登録されたピザ屋は、XXピザとYYピザがあります。どちらにしますか?      | #2、#3       |
| ユーザー      | XXピザにして。                                         | #3           |
| Extension | コンビネーションピザ、ペパロニピザ、スーパー・シュプリームピザがあります。どれを注文しますか?  | #4      |
| ユーザー      | コンビネーションピザを注文して。                                  | #4           |
| Extension | XXピザのXX店に、コンビネーションピザ1枚、コーラ1.5リットル1本を新宿区新宿4丁目1-6に配達します。合計金額は2,300円、お支払い方法は配達員に現金払いです。宜しいですか？                 | #3、#4,#6  |
| ユーザー      | 他のメニューにして。                                        | #7           |
| Extension | スーパー・シュプリームピザ1枚、コーラ1.5リットル1本を新宿区新宿4丁目1-6に配達します。合計金額は2,650円、お支払い方法は配達員に現金払いです。宜しいですか？ | #2、#7  |
| ユーザー      | うん。                                                  | #5           |
| Extension | 注文が完了しました。                                     | #2           |
| ユーザー | ピザボットを終了して。                                              | #10          |

{% if book.language !== "ja" %}
* 一時的な指示タイプのシナリオ

| 発話の主体   | サンプル発話                                              | 関連する目標ID  |
|-----------|------------------------------------------------------|-------------|
| ユーザー      | ピザボットで注文の状況を確認して。                               | #1、#9      |
| Extension | ただいま配達中です。もう少しお待ちください。                 | #9          |
{% endif %}

## 対話モデルを定義する {#DefineInteractionModel}

音声から認識されたユーザーのリクエストは、まずサービスの提供に必要なフォーマット(JSON)に変換され、Extensionに渡されます。例えば、ピザの宅配サービスを提供するCustom Extensionがあると仮定します。その場合、ユーザーから「ペパロニピザを2枚注文して」のようなリクエストが入力されます。Clovaの対話モデルとは、そのようなユーザーのリクエストを、次のようにサービスの提供に必要な標準形式(JSON)に変換するルールを定義したものです。

![](/Design/Resources/Images/Extension_Design-Interaction_Model_Analysis_Diagram.png)

対話モデルをClova Developer Centerで定義するには、まず対話モデルとは何であるかを理解する必要があります。対話モデルをきちんと理解せずに定義してしまうと、パフォーマンスが下がってしまうことや、ユーザーのリクエストを正しく処理できない可能性があります。ユーザーの実際の意図をうまく把握する対話モデルを作成するためには、対話モデルを作成する前に、まず以下の内容を理解して、設計に反映する必要があります。

* [インテント](#Intent)
* [スロット](#Slot)
* [サンプル発話](#UtteranceExample)

### インテント(Intent) {#Intent}

インテントは、Extensionが処理するユーザーのリクエストを区分したカテゴリーです。主にユーザーの発話で使われた**動詞**型の要素によって区別されます。インテントには、カスタムインテントとビルトインインテントの2種類があります。

* [カスタムインテント](#CustomIntent)
* [ビルトインインテント](#BuiltinIntent)

#### カスタムインテント {#CustomIntent}

カスタムインテントはビルトインインテントとは違って、提供するサービスに特化したユーザーリクエストのカテゴリーを定義します。次のような内容が定義されています。
* サービスが処理するユーザーリクエストのカテゴリ
* ユーザーリクエストのカテゴリーごとに必要とする情報([スロット](#Slot))
* ユーザーリクエストのカテゴリーごとに予想される様々な[サンプル発話](#UtteranceExample)

先ほど例として挙げたピザの宅配サービスの場合、次のようなリクエストのカテゴリーを考えられます。

* メニュー確認のリクエスト
* 注文のリクエスト
* 配達状況確認のリクエスト

ピザの宅配サービス(Extension)の対話モデルを定義するということは、メニュー確認インテント、注文インテント、配達状況確認インテントのようにインテントのリストを宣言して、それぞれのインテントが必要とする情報(スロット)とサンプル発話を列挙するということです。従って、**対話モデルを定義する際、一番最初に、Extensionが処理するリクエストのカテゴリーを定義し、列挙する**必要があります。それはExtensionを開発する際に、ビジネスロジックでプログラムの分岐を分ける基準にもなります。

![](/Design/Resources/Images/Extension_Design-Design_Interaction_Model.png)

**ユーザーリクエストのカテゴリーを区分したら、次はカテゴリーごとに名前を定義します。**これがインテント名です。ピザの宅配サービスの「注文インテント」のようなものは、あくまで抽象的な概念です。それをExtensionが認識できる具体的な名前、つまり識別しやすい文字列として宣言してください。例えば、「注文インテント」は、「OrderPizza」のような名前で宣言することができます。

次に、「OrderPizza」インテントがユーザーの発話から**取得する情報([スロット](#Slot))を定義**し、処理できる**様々な[サンプル発話](#UtteranceExample)を列挙**します。

#### ビルトインインテント {#BuiltinIntent}

ビルトインインテントは、Clovaプラットフォームが一部の共通したユーザーリクエストのカテゴリーを決め、それを共有するために宣言した仕様です。頻繁に発生するインテントとして、次のようなリクエストがあらかじめ定義されています。


| ビルトインインテントの名前       | 意図               | ユーザーのサンプル発話                                      |
|---------------------------|-------------------|----------------------------------------------------------|
| Clova.GuideIntent         | ヘルプのリクエスト          | 「何ができるの?」「使い方を教えて」 |
| Clova.CancelIntent        | 対話キャンセルのリクエスト        | 「キャンセル」「キャンセルして」                                          |
| Clova.YesIntent           | 肯定の返事(はい、Yes)   | 「はい」「うん」「いいよ」「わかった」「わかりました」「オッケー」                   |
| Clova.NoIntent            | 否定の返事(いいえ、No) | 「いいえ」「いや」「いらない」                                     |

### スロット {#Slot}

スロットは、ユーザーの発話から取得される情報です。ユーザーの発話で使われた**名詞**型の要素がスロットになります。[カスタムインテント](#Intent)を定義する際、そのインテントが必要とするスロットを一緒に定義する必要があります。ソフトウェアの開発に例えると、インテントは特定のカテゴリーのユーザーリクエストを処理する関数またはハンドラーで、スロットはその関数やハンドラーに必要なパラメータに該当します。先ほど例として挙げた「ペパロニピザを2枚注文して」というユーザーの発話の場合、「OrderPizza」インテントを処理するには、「ペパロニピザ」のような、ピザの種類に関する情報と、「2枚」のような数量に関する情報が必要なことがわかります。インテントを定義する際、そのインテントがどんな情報(スロット)を必要とするかをあらかじめ把握しておく必要があります。

また、スロットを宣言する際には、そのスロットがどんなタイプの情報かを区分する必要があります。それがスロットタイプです。スロットタイプには、ビルトインスロットタイプとカスタムスロットタイプの2種類があります。

* [ビルトインスロットタイプ](#BuiltinSlotType)
* [カスタムスロットタイプ](#CustomSlotType)

#### ビルトインスロットタイプ {#BuiltinSlotType}

ビルトインスロットタイプは、Clovaであらかじめ定義されている情報のタイプです。すべてのサービス(Extension)に共通で使用できる情報の表現が定義されています。ビルトインスロットタイプは、主に時間、場所、数量などのような情報を認識する必要がある場合に使用されます。上記の発話の場合、「2枚」に該当する情報を認識するためにビルトインスロットタイプを使用することができます。Clovaは、次のようなビルトインスロットタイプを提供しています。

| ビルトインスロットタイプ名   | 説明                                            |
| ---------------------|------------------------------------------------|
| CLOVA.NUMBER         | 数字表現を提供します。(例:"7"人、"一"つ、"30"歳、"8"個) |
| CLOVA.RELATIVETIME   | 相対的な時間表現を提供します。(例:"これから"、"後で"、"しばらく後"、"今"、"さっき") |
| CLOVA.UNIT           | 数字＋助数詞表現を提供します。(例: "113坪"、"100メガ"、"25マイル") |
| CLOVA.ORDER          | 順序表現を提供します。(例:"次"、"前") |
| CLOVA.JP_ADDRESS_KEN | 日本の行政地域のうち、都道府県名を提供します。(例:"東京都"、"京都府"、"福岡県"、"北海道")|
| CLOVA.JP_ADDRESS_SHI | 日本の行政地域のうち、市町村名を提供します。(例:"武蔵野市"、"奥多摩町"、"小笠原村")|
| CLOVA.JP_ADDRESS_KU  | 日本の行政地域のうち、東京特別区（23区）名を提供します。(例:"新宿区"、"渋谷区"、"千代田区")|
| CLOVA.WORLD_COUNTRY  | 世界の国名に相当する表現を提供します。(例:"カナダ"、"日本"、"大韓民国"、"フランス") |
| CLOVA.WORLD_CITY     | 世界の都市名表現を提供します。(例:"ワシントンD.C."、 "ローマ") |
| CLOVA.MONEY          | 数字+通貨単位を提供します。(例:"四千円"、"1ドル") |
| CLOVA.CURRENCY       | 通貨単位を提供します。(例:"円"、"ドル") |
| CLOVA.OFFICIALDATE   | 公休日を提供します。(例:"元日"、"成人の日") |

#### カスタムスロットタイプ {#CustomSlotType}

カスタムスロットタイプは、提供するサービス(Extension)のドメインに特化して必要な情報のタイプを定義したものです。カスタムスロットタイプは、主に固有名詞または一般名詞を指定して作成します。例えば、上記の発話で「OrderPizza」インテントで、ピザの種類に該当する情報(スロット)をユーザーの発話から抽出する必要があります。また、ピザの種類を示す表現は、ピザに関するドメインでのみ使用される可能性が高いです。従って、「PIZZA_TYPE」のようなカスタムスロットタイプを定義し、そのカスタムスロットタイプに、ピザの宅配サービスで注文できる「ペパロニピザ」「コンビネーションピザ」「チーズピザ」などの項目を宣言することができます。

ただし、同じ意味を持つ言葉でも、実際の発話では様々な言い方で表現されることがあります。「バーベキューピザ」は「BBQピザ」のような同義語を持ち、「シュリンプ・ゴールドクラストピザ」のような長い名前の場合、「シュリンプ・ゴルクラ」のようによく使われる短縮表現が存在する可能性もあります。従って、カスタムスロットタイプを定義する際には、概念的に区別される項目だけでなく、その項目ごとに代表語と同義語・類義語を定義する必要があります。そうすることで、ユーザーの発話を認識する際に、様々な言い方で表現される同義語や類義語を代表語に変換できます。また、Extensionがインテントを処理する際に、同じ概念に該当する情報の表現のゆれを解消し、統一した値でExtensionに渡すことができます。

上記のようにスロットタイプを定義したら、次はそれぞれのインテントで使用するスロットの名前を定義し、そのスロットがどんなスロットタイプを持つか宣言する必要があります。例えば、「OrderPizza」インテントは、ピザの種類に関する情報のための「pizzaType」、ピザの数量に関する情報のための「pizzaAmount」というスロットを宣言することができます。これらのスロットには各々、スロットごとにあらかじめ定義した「PIZZA_TYPE」のカスタムスロットタイプと、すでに提供されている「CLOVA.NUMBER」のビルトインスロットタイプを指定することができます。

### サンプル発話 {#UtteranceExample}
インテントを定義する際、様々なサンプル発話を列挙することができます。サンプル発話は、Clovaが同じ意図を持つ様々な言い方を認識するにあたって必要な基本データであり、ユーザーの発話のうち、スロットに該当する情報を把握する際に利用されます。サンプル発話を適切に入力しておくと、ユーザーの意図を正しく認識する対話モデルを作成することができます。サンプル発話は、可能な限り次の事項に従って作成することを強くお勧めします。

* 同じ意図を表しているが、違う言い方で表現されるサンプル発話を様々なバリエーションで十分に入力してください。
* パターンが重複しないように、言い方には幅広いバリエーションを持たせて発話サンプルを作成してください。
* サンプル発話の数は、次の基準に従ってください。
  * インテントにビルトインスロットタイプが使用されている、または、人が管理可能な量の辞書を持つカスタムスロットタイプの場合、そのスロットが含まれるサンプル発話を少なくとも30個作成してください。
  * インテントにアーティスト名、曲名、映画のタイトル、会社名など、サイズが大きな辞書を持つスロットタイプが使用されている場合、そのスロットが含まれる文章を少なくとも100個は作成してください。
  * 表現がシンプルなインテントであれば、10個程度のサンプル発話を入力して下さい。
* 上記の基準でサンプル発話を入力した後、新しい表現やうまく認識されない表現が見つかった場合には、サンプル発話を追加してください。
* スロットタイプの辞書に、スロットに該当するかどうかの判断が難しい値がある場合、その値をサンプル発話に使用することで、スロットであることを明示してください。しかし、スロットタイプに曖昧な値が含まれないようにしてください。

サンプル発話は数多くの入力が必要ですが、一方で発話パターンが重複しないように注意してください。以下の図を参考にしてください。

![](/Design/Resources/Images/Extension_Design-Diagram_for_Utterance_Example.png)

例えば、ピザの宅配サービスで、注文に関するインテント(OrderPizza)に、以下のようなサンプル発話を作成したと仮定します。

```
ペパロニピザ1枚頼んで。
ペパロニピザ1枚注文してちょうだい。
ペパロニピザ1枚出前取って。
ペパロニピザ1枚宅配でお願い。
```

Clovaが上記のサンプル発話で学習した場合、`"ペパロニ"`や`"1枚"`という値がユーザーの発話に含まれると、その発話は仕様上、`OrderPizza`インテントとして認識される可能性が高いです。具体的には、「ペパロニピザ1枚いくらなの?」と言った、前述の発話のどれにも該当しない発話であったとしても、ピザの注文をリクエストした発話として処理されてしまう可能性があります。

解決策として、サンプル発話は次のように作成することをお勧めします。

```
ペパロニピザ2枚頼んで。
BBQピザ1つ出前取ってくれる?
コンビネーション3つ宅配でお願い。
シュリンプ・ゴルクラピザ早くお願い、お腹空いてるの。
```

この例では発話が名詞(ピザの種類)、名詞(数量)、動詞(意図)のパターンで構成されていて、日常で使用される助詞、語尾、副詞、感嘆詞なども含まれています。発話のパターンをすべて洗い出すと、これらのパターンを再利用して、スロットの値を変えながらサンプル発話を推奨基準まで追加します。その際、次の事項に注意してください。
* サンプル発話に使用されたスロットの値を発話毎に変更して文章を追加してください。
* 助詞、語尾、副詞、感嘆詞などの使用にバリエーションを与えながら文章を追加します。
* 特に**特定の値の組み合わせが何度も使用されないように注意します。**例えば、「ペパロニピザ2枚頼んで」と「ペパロニピザを1枚だけ頼んでください」の場合、語尾、助詞、数量は変えましたが、`"ペパロニ"`と`"頼む"`という値の組み合わせが重複しています。

```
バーベキュー5つ早く注文して。
ペパロニ1枚食べるからね。
ベジタリアンピザお願い。
おいしいチーズピザを4つ注文してちょうだい。
```

「OrderPizza」インテントに関する発話をテキストで列挙し、スロットに該当する部分を次のように表示します。

{% raw %}

```
<pizzaType>ペパロニピザ</pizzaType><pizzaAmount>2枚</pizzaAmount>頼んで。
<pizzaType>BBQピザ</pizzaType><pizzaAmount>1つ</pizzaAmount>出前取ってくれる?
<pizzaType>コンビネーション</pizzaType><pizzaAmount>3つ</pizzaAmount>宅配でお願い。
<pizzaType>シュリンプ・ゴルクラピザ</pizzaType>早くお願い、お腹空いてるの。
<pizzaType>バーベキュー</pizzaType><pizzaAmount>5つ</pizzaAmount>早く注文して。
<pizzaType>ペパロニ</pizzaType><pizzaAmount>1枚</pizzaAmount>食べるからね。
<pizzaType>ベジタリアンピザ</pizzaType>お願い。
おいしい<pizzaType>チーズピザ</pizzaType>を<pizzaAmount>4つ</pizzaAmount>注文してちょうだい。
...
```
{% endraw %}

<div class="note">
  <p><strong>メモ</strong></p>
  <p>今後<a href="/DevConsole/Guides/CEK/Test_Extension.html#TestInteractionModel">対話モデルのテスト</a>や、実際のユーザーのログを参照して完成度を高めていくことができます。対話モデルをテストする際には、サンプル発話の作成者ではなく、第三者がテストすることをお勧めします。そうすることで、新たな発話パターンを見つける事ができます。</p>
</div>


[Clova Developer Center](/DevConsole/ClovaDevConsole_Overview.md)で[対話モデルを登録](/DevConsole/Guides/CEK/Register_Interaction_Model.md)すると、[登録されたCustom Extension](/DevConsole/Guides/CEK/Register_Extension.md)が次のようなJSONメッセージを受信します。

{% raw %}

```json
// カスタムインテント: ペパロニピザ2枚注文してちょうだい。
{
  "version": "0.1.0",
  "session": {
    "new": false,
    "sessionAttributes": {},
    "sessionId": "a29cfead-c5ba-474d-8745-6c1a6625f0c5",
    "user": {
      "userId": "V0qe",
      "accessToken": "XHapQasdfsdfFsdfasdflQQ7"
    }
  },
  "context": {
    "System": {
      "application": {
        "applicationId": "com.yourdomain.extension.pizzabot"
      },
      "user": {
        "userId": "V0qe",
        "accessToken": "XHapQasdfsdfFsdfasdflQQ7"
      },
      "device": {
        "deviceId": "096e6b27-1717-33e9-b0a7-510a48658a9b"
      }
    }
  },
  "request": {
    "type": "IntentRequest",
    "intent": {
      "name": "OrderPizza",
      "slots": {
        "pizzaAmount": {
          "name": "pizzaAmount",
          "value": "2"
        },
        "pizzaType": {
          "name": "pizzaType",
          "value": "ペパロニ"
        }
      }
    }
  }
}

// ビルトインインテント: キャンセルして
{
  "version": "0.1.0",
  "session": {
    "new": false,
    "sessionAttributes": {},
    "sessionId": "a29cfead-c5ba-474d-8745-6c1a6625f0c5",
    "user": {
      "userId": "V0qe",
      "accessToken": "XHapQasdfsdfFsdfasdflQQ7"
    }
  },
  "context": {
    "System": {
      "application": {
        "applicationId": "com.yourdomain.extension.pizzabot"
      },
      "user": {
        "userId": "V0qe",
        "accessToken": "XHapQasdfsdfFsdfasdflQQ7"
      },
      "device": {
        "deviceId": "096e6b27-1717-33e9-b0a7-510a48658a9b"
      }
    }
  },
  "request": {
    "type": "IntentRequest",
    "intent": {
      "name": "Clova.CancelIntent",
      "slots": {}
    }
  }
}
```

{% endraw %}

## 注意事項 {#Precautions}

Extensionを設計する際、以下のような社会的または法律的な問題が発生しないように注意してください。Extensionの設計時だけでなく、作成したExtensionをClovaに登録して配布する際にも、再度次の事項を確認することをお勧めします。

* 著作権法に違反する内容がないか
* プライバシーポリシーおよびコンプライアンスに違反する内容がないか
* サービスの接続やデータの提供が一時的なものではなく、持続して利用できるか
* 子供またはエンドユーザーに有害なコンテンツが含まれていないか

## プラットフォームでサポートされるオーディオ圧縮形式 {#SupportedAudioCompressionFormat}

Extensionでオーディオコンテンツを提供する場合、必ずClovaでサポートされている音声圧縮形式で提供する必要があります。

{% include "/Design/SupportedMediaFormat/Supported_Audio_Compression_Format.md" %}

<div class="danger">
  <p><strong>注意</strong></p>
  <p>Clovaでサポートされていない音声圧縮形式でオーディオを提供すると、クライアントがオーディオを正常に再生できないことがあります。</p>
</div>

## 随時更新 {#ContinuousUpdate}

新規にExtensionを開発する際には、ユーザーがどんなフレーズを発話するか予測してシナリオを作成し、Extensionに適用します。Extensionの公開後は、実際のユーザーの使い方が予想と必ず一致するとは限らず、またユーザーのすべての使用パターンを網羅できていない可能性もあります。ユーザーは想定していない方法でExtensionを使用する可能性があるのです。UXを向上させるためには、Extensionを公開してからも、Extensionの機能や対話の流れを持続的に改善する必要があります。

Extensionを登録した後、Clovaプラットフォームで提供される統計データや流入されたユーザーの発話のログ(今後サービス予定)を分析し、随時Extensionをアップデートする必要があります。
